<!DOCTYPE html>

<html lang = "en" xmlns:th = "http://www.thymeleaf.org"
                  xmlns = "http://www.w3.org/1999/xhtml"
				  xmlns:sec = "https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
				  

	<head>
		<meta charset = "UTF-8">
		<title>Mobs</title>
		<link rel = "stylesheet" type = "text/css" th:href = "@{/css/mob.css}" />
	</head>
	
	<body>
		<div class = "topnav">
			<a href = "/web/mob?home">Home</a>
			<a href = "/web/mob?boss">Boss Search</a>
			<a href = "/web/mob?equipment">Equipment Search</a>
			<a href = "/web/mob?mobdrop">Mob Drop Search</a>
			<a href = "/web/mob?bossdrop">Boss Drop Search</a>
		</div>
		
		<br />
		<br />
		
		<button type = "button" onclick = "showHideSearchBar()">Click to hide/show search options</button>
		
		<br />
		<br />
		
		<div id = "searchBar">
			<form action = "/web/mob" method = "GET" id = "mobForm">
				Mob name: <input type = "text" id = "mobName" name = "mobName" placeholder = "" /><br /><br />
				Mob Level: <input type = "number" id = "mobLevel" min = "0" max = "200" name = "mobLevel" value = 0 /><br /><br />
				Mob EXP: <input type = "number" id = "mobEXP" min = "0" name = "mobEXP" value = 0 /><br /><br />
				Mob Location One: <input type = "text" id = "mobLocationOne" name = "mobLocationOne" placeholder = "" /><br /><br />
				Mob Location Two: <input type = "text" id = "mobLocationTwo" name = "mobLocationTwo" placeholder = "" /><br />		
				<button type = "submit">Submit</button>
			</form>
		</div>
		
		<br />
		<br />
		
		<div th:if = "${mobPage.totalPages == 0}">
					<span id = "noContent">There are no results currently for that query.</span>
		</div>
		
		<div th:if = "${mobPage.totalPages > 0}">
			<table id = "mobsInfo">
				<thead>
					<tr>
						<td>Mob Name</td>
						<td>Mob Level</td>
						<td>Mob EXP</td>
						<td>Mob Location One</td>
						<td>Mob Location Two</td>
				</thead>
				
				<tbody>
					<tr th:each = "mobs: ${mobPage.content}">
						<td th:text = "${mobs.mobName}"></td>
						<td th:text = "${mobs.mobLevel}"></td>
						<td th:text = "${mobs.mobEXP}"></td>
						<td th:text = "${mobs.mobLocation}"></td>
						<td th:text = "${mobs.mobLocationTwo}"></td>
					</tr>
				</tbody>
			</table>
			
			<br />
			
			<div id = "pages">
				<span th:if = "${mobPage.totalPages > 1}">			
					<a th:href = "@{/web/mob(size = ${mobPage.size}, page = 1, mobName = ${mobNameFilter}, mobLevel = ${mobLevelFilter}, mobEXP = ${mobExpFilter},
									mobLocationOne = ${mobLocationOneFilter}, mobLocationTwo = ${mobLocationTwoFilter})}">First</a>
					&nbsp;&nbsp;
				</span> 
				
				<span th:if = "${currentPage != 1}">
					<a th:href = "@{/web/mob(size = ${mobPage.size}, page = ${currentPage} - 1, mobName = ${mobNameFilter}, mobLevel = ${mobLevelFilter}, mobEXP = ${mobExpFilter},
									mobLocationOne = ${mobLocationOneFilter}, mobLocationTwo = ${mobLocationTwoFilter})}">Previous</a>
					&nbsp;&nbsp;
				</span>
				
				<span th:if = "${mobPage.totalPages > 0}" th:each = "pageNumber : ${pageNumbers}">
					<a th:href = "@{/web/mob(size = ${mobPage.size}, page = ${pageNumber}, mobName = ${mobNameFilter}, mobLevel = ${mobLevelFilter}, mobEXP = ${mobExpFilter},
									mobLocationOne = ${mobLocationOneFilter}, mobLocationTwo = ${mobLocationTwoFilter})}"
						th:text = ${pageNumber}></a>
						&nbsp;&nbsp;
				</span>
				
				<span th:if = "${currentPage != mobPage.totalPages}">
					<a th:href = "@{/web/mob(size = ${mobPage.size}, page = ${currentPage} + 1, mobName = ${mobNameFilter}, mobLevel = ${mobLevelFilter}, mobEXP = ${mobExpFilter},
									mobLocationOne = ${mobLocationOneFilter}, mobLocationTwo = ${mobLocationTwoFilter})}">Next</a>
					&nbsp;&nbsp;
				</span>
				
				<span th:if = "${mobPage.totalPages > 1}">
					<a th:href = "@{/web/mob(size = ${mobPage.size}, page = ${mobPage.totalPages}, mobName = ${mobNameFilter}, mobLevel = ${mobLevelFilter}, mobEXP = ${mobExpFilter},
									mobLocationOne = ${mobLocationOneFilter}, mobLocationTwo = ${mobLocationTwoFilter})}">Last</a>
				</span>
			</div>
		</div>
	</body>
	
	<script type = "text/javascript" th:src = "@{/js/show_hide.js}"></script>
	
</html>